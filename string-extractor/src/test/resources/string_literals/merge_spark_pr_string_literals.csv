src/test/resources/python/merge_spark_pr.py,42,28,42,39,"""SPARK_HOME"""
src/test/resources/python/merge_spark_pr.py,44,32,44,47,"""PR_REMOTE_NAME"""
src/test/resources/python/merge_spark_pr.py,44,50,44,64,"""apache-github"""
src/test/resources/python/merge_spark_pr.py,46,34,46,51,"""PUSH_REMOTE_NAME"""
src/test/resources/python/merge_spark_pr.py,46,54,46,61,"""apache"""
src/test/resources/python/merge_spark_pr.py,48,31,48,45,"""JIRA_USERNAME"""
src/test/resources/python/merge_spark_pr.py,50,31,50,45,"""JIRA_PASSWORD"""
src/test/resources/python/merge_spark_pr.py,55,34,55,51,"""GITHUB_OAUTH_KEY"""
src/test/resources/python/merge_spark_pr.py,58,14,58,51,"""https://github.com/apache/spark/pull"""
src/test/resources/python/merge_spark_pr.py,59,18,59,60,"""https://api.github.com/repos/apache/spark"""
src/test/resources/python/merge_spark_pr.py,60,12,60,50,"""https://issues.apache.org/jira/browse"""
src/test/resources/python/merge_spark_pr.py,61,16,61,47,"""https://issues.apache.org/jira"""
src/test/resources/python/merge_spark_pr.py,63,16,63,24,"""PR_TOOL"""
src/test/resources/python/merge_spark_pr.py,70,31,70,45,'Authorization'
src/test/resources/python/merge_spark_pr.py,70,48,70,57,'token %s'
src/test/resources/python/merge_spark_pr.py,73,11,73,33,"""X-RateLimit-Remaining"""
src/test/resources/python/merge_spark_pr.py,73,62,73,84,"""X-RateLimit-Remaining"""
src/test/resources/python/merge_spark_pr.py,73,90,73,92,'0'
src/test/resources/python/merge_spark_pr.py,74,18,74,79,"""Exceeded the GitHub API rate limit; see the instructions in """
src/test/resources/python/merge_spark_pr.py,75,18,75,94,"""dev/merge_spark_pr.py to configure an OAuth token for making authenticated """
src/test/resources/python/merge_spark_pr.py,76,18,76,35,"""GitHub requests."""
src/test/resources/python/merge_spark_pr.py,78,18,78,51,"""Unable to fetch URL, exiting: %s"""
src/test/resources/python/merge_spark_pr.py,97,23,97,36,"""\n%s (y/n): """
src/test/resources/python/merge_spark_pr.py,98,25,98,27,"""y"""
src/test/resources/python/merge_spark_pr.py,99,13,99,27,"""Okay, exiting"""
src/test/resources/python/merge_spark_pr.py,103,10,103,39,"""Restoring head pointer to %s"""
src/test/resources/python/merge_spark_pr.py,104,12,104,28,"""git checkout %s"""
src/test/resources/python/merge_spark_pr.py,106,23,106,34,"""git branch"""
src/test/resources/python/merge_spark_pr.py,106,60,106,63,"""\n"""
src/test/resources/python/merge_spark_pr.py,109,14,109,39,"""Deleting local branch %s"""
src/test/resources/python/merge_spark_pr.py,110,16,110,33,"""git branch -D %s"""
src/test/resources/python/merge_spark_pr.py,115,21,115,36,"""%s_MERGE_PR_%s"""
src/test/resources/python/merge_spark_pr.py,116,25,116,43,"""%s_MERGE_PR_%s_%s"""
src/test/resources/python/merge_spark_pr.py,117,12,117,41,"""git fetch %s pull/%s/head:%s"""
src/test/resources/python/merge_spark_pr.py,118,12,118,31,"""git fetch %s %s:%s"""
src/test/resources/python/merge_spark_pr.py,119,12,119,28,"""git checkout %s"""
src/test/resources/python/merge_spark_pr.py,123,17,123,21,'git'
src/test/resources/python/merge_spark_pr.py,123,24,123,30,'merge'
src/test/resources/python/merge_spark_pr.py,123,49,123,58,'--squash'
src/test/resources/python/merge_spark_pr.py,125,14,125,79,"""Error merging: %s\nWould you like to manually fix-up this merge?"""
src/test/resources/python/merge_spark_pr.py,127,14,127,90,"""Okay, please fix any conflicts and 'git add' conflicting files... Finished?"""
src/test/resources/python/merge_spark_pr.py,131,30,131,34,'git'
src/test/resources/python/merge_spark_pr.py,131,37,131,41,'log'
src/test/resources/python/merge_spark_pr.py,131,44,131,53,'HEAD..%s'
src/test/resources/python/merge_spark_pr.py,132,29,132,55,'--pretty=format:%an <%ae>'
src/test/resources/python/merge_spark_pr.py,132,65,132,68,"""\n"""
src/test/resources/python/merge_spark_pr.py,136,8,136,48,"""Enter primary author in the format of \"""
src/test/resources/python/merge_spark_pr.py,136,62,136,70,""" [%s]: """
src/test/resources/python/merge_spark_pr.py,141,23,141,27,'git'
src/test/resources/python/merge_spark_pr.py,141,30,141,34,'log'
src/test/resources/python/merge_spark_pr.py,141,37,141,46,'HEAD..%s'
src/test/resources/python/merge_spark_pr.py,142,22,142,50,'--pretty=format:%h [%an] %s'
src/test/resources/python/merge_spark_pr.py,142,60,142,65,"""\n\n"""
src/test/resources/python/merge_spark_pr.py,146,28,146,31,"""-m"""
src/test/resources/python/merge_spark_pr.py,150,32,150,35,"""-m"""
src/test/resources/python/merge_spark_pr.py,150,51,150,53,"""@"""
src/test/resources/python/merge_spark_pr.py,152,14,152,17,"""\n"""
src/test/resources/python/merge_spark_pr.py,152,25,152,36,"""Author: %s"""
src/test/resources/python/merge_spark_pr.py,154,28,154,31,"""-m"""
src/test/resources/python/merge_spark_pr.py,157,33,157,60,"""git config --get user.name"""
src/test/resources/python/merge_spark_pr.py,158,34,158,62,"""git config --get user.email"""
src/test/resources/python/merge_spark_pr.py,159,18,159,88,"""This patch had conflicts when merged, resolved by\nCommitter: %s <%s>"""
src/test/resources/python/merge_spark_pr.py,161,32,161,35,"""-m"""
src/test/resources/python/merge_spark_pr.py,164,28,164,31,"""-m"""
src/test/resources/python/merge_spark_pr.py,164,34,164,54,"""Closes #%s from %s."""
src/test/resources/python/merge_spark_pr.py,166,13,166,17,'git'
src/test/resources/python/merge_spark_pr.py,166,20,166,27,'commit'
src/test/resources/python/merge_spark_pr.py,166,30,166,44,"'--author=""%s""'"
src/test/resources/python/merge_spark_pr.py,168,19,168,62,"""Merge complete (local ref %s). Push to %s?"""
src/test/resources/python/merge_spark_pr.py,172,16,172,34,'git push %s %s:%s'
src/test/resources/python/merge_spark_pr.py,175,13,175,41,"""Exception while pushing: %s"""
src/test/resources/python/merge_spark_pr.py,177,25,177,42,"""git rev-parse %s"""
src/test/resources/python/merge_spark_pr.py,179,10,179,35,"""Pull request #%s merged!"""
src/test/resources/python/merge_spark_pr.py,180,10,180,25,"""Merge hash: %s"""
src/test/resources/python/merge_spark_pr.py,185,25,185,52,"""Enter a branch name [%s]: """
src/test/resources/python/merge_spark_pr.py,189,23,189,40,"""%s_PICK_PR_%s_%s"""
src/test/resources/python/merge_spark_pr.py,191,12,191,31,"""git fetch %s %s:%s"""
src/test/resources/python/merge_spark_pr.py,192,12,192,28,"""git checkout %s"""
src/test/resources/python/merge_spark_pr.py,195,16,195,39,"""git cherry-pick -sx %s"""
src/test/resources/python/merge_spark_pr.py,197,14,197,86,"""Error cherry-picking: %s\nWould you like to manually fix-up this merge?"""
src/test/resources/python/merge_spark_pr.py,199,14,199,83,"""Okay, please fix any conflicts and finish the cherry-pick. Finished?"""
src/test/resources/python/merge_spark_pr.py,202,19,202,61,"""Pick complete (local ref %s). Push to %s?"""
src/test/resources/python/merge_spark_pr.py,206,16,206,34,'git push %s %s:%s'
src/test/resources/python/merge_spark_pr.py,209,13,209,41,"""Exception while pushing: %s"""
src/test/resources/python/merge_spark_pr.py,211,24,211,41,"""git rev-parse %s"""
src/test/resources/python/merge_spark_pr.py,214,10,214,43,"""Pull request #%s picked into %s!"""
src/test/resources/python/merge_spark_pr.py,215,10,215,24,"""Pick hash: %s"""
src/test/resources/python/merge_spark_pr.py,221,17,221,24,"""master"""
src/test/resources/python/merge_spark_pr.py,224,36,224,44,"""branch-"""
src/test/resources/python/merge_spark_pr.py,229,33,229,40,'server'
src/test/resources/python/merge_spark_pr.py,232,24,232,47,"""Enter a JIRA id [%s]: """
src/test/resources/python/merge_spark_pr.py,239,13,239,44,"""ASF JIRA could not find %s\n%s"""
src/test/resources/python/merge_spark_pr.py,245,23,245,39,"""NOT ASSIGNED!!!"""
src/test/resources/python/merge_spark_pr.py,249,21,249,30,"""Resolved"""
src/test/resources/python/merge_spark_pr.py,249,49,249,56,"""Closed"""
src/test/resources/python/merge_spark_pr.py,250,13,250,51,"""JIRA issue %s already has status '%s'"""
src/test/resources/python/merge_spark_pr.py,251,10,251,26,"""=== JIRA %s ==="""
src/test/resources/python/merge_spark_pr.py,252,10,252,68,"""summary\t\t%s\nassignee\t%s\nstatus\t\t%s\nurl\t\t%s/%s\n"""
src/test/resources/python/merge_spark_pr.py,255,41,255,47,"""SPARK"""
src/test/resources/python/merge_spark_pr.py,257,38,257,47,'released'
src/test/resources/python/merge_spark_pr.py,259,41,259,55,'\d+\.\d+\.\d+'
src/test/resources/python/merge_spark_pr.py,267,40,267,42,"""."""
src/test/resources/python/merge_spark_pr.py,268,20,268,22,"""0"""
src/test/resources/python/merge_spark_pr.py,269,23,269,32,"""%s.%s.%s"""
src/test/resources/python/merge_spark_pr.py,272,27,272,29,""","""
src/test/resources/python/merge_spark_pr.py,274,29,274,73,"""Enter comma-separated fix version(s) [%s]: """
src/test/resources/python/merge_spark_pr.py,277,55,277,57,""","""
src/test/resources/python/merge_spark_pr.py,284,33,284,38,'name'
src/test/resources/python/merge_spark_pr.py,284,44,284,58,"""Resolve Issue"""
src/test/resources/python/merge_spark_pr.py,285,40,285,45,'name'
src/test/resources/python/merge_spark_pr.py,285,51,285,57,"""Fixed"""
src/test/resources/python/merge_spark_pr.py,287,25,287,28,"""id"""
src/test/resources/python/merge_spark_pr.py,288,37,288,40,'id'
src/test/resources/python/merge_spark_pr.py,288,58,288,61,'id'
src/test/resources/python/merge_spark_pr.py,290,10,290,56,"""Successfully resolved %s with fixVersions=%s!"""
src/test/resources/python/merge_spark_pr.py,294,26,294,43,"""SPARK-[0-9]{4,5}"""
src/test/resources/python/merge_spark_pr.py,303,0,331,1804,"    """"""
    Standardize the [SPARK-XXXXX] [MODULE] prefix
    Converts ""[SPARK-XXX][mllib] Issue"", ""[MLLib] SPARK-XXX. Issue"" or ""SPARK XXX [MLLIB]: Issue"" to
    ""[SPARK-XXX][MLLIB] Issue""

    >>> standardize_jira_ref(
    ...     ""[SPARK-5821] [SQL] ParquetRelation2 CTAS should check if delete is successful"")
    '[SPARK-5821][SQL] ParquetRelation2 CTAS should check if delete is successful'
    >>> standardize_jira_ref(
    ...     ""[SPARK-4123][Project Infra][WIP]: Show new dependencies added in pull requests"")
    '[SPARK-4123][PROJECT INFRA][WIP] Show new dependencies added in pull requests'
    >>> standardize_jira_ref(""[MLlib] Spark  5954: Top by key"")
    '[SPARK-5954][MLLIB] Top by key'
    >>> standardize_jira_ref(""[SPARK-979] a LRU scheduler for load balancing in TaskSchedulerImpl"")
    '[SPARK-979] a LRU scheduler for load balancing in TaskSchedulerImpl'
    >>> standardize_jira_ref(
    ...     ""SPARK-1094 Support MiMa for reporting binary compatibility accross versions."")
    '[SPARK-1094] Support MiMa for reporting binary compatibility accross versions.'
    >>> standardize_jira_ref(""[WIP]  [SPARK-1146] Vagrant support for Spark"")
    '[SPARK-1146][WIP] Vagrant support for Spark'
    >>> standardize_jira_ref(
    ...     ""SPARK-1032. If Yarn app fails before registering, app master stays aroun..."")
    '[SPARK-1032] If Yarn app fails before registering, app master stays aroun...'
    >>> standardize_jira_ref(
    ...     ""[SPARK-6250][SPARK-6146][SPARK-5911][SQL] Types are now reserved words in DDL parser."")
    '[SPARK-6250][SPARK-6146][SPARK-5911][SQL] Types are now reserved words in DDL parser.'
    >>> standardize_jira_ref(""Additional information for users building from source code"")
    'Additional information for users building from source code'
    """""""
src/test/resources/python/merge_spark_pr.py,336,19,336,65,"'^\[SPARK-[0-9]{3,6}\](\[[A-Z0-9_\s,]+\] )+\S+'"
src/test/resources/python/merge_spark_pr.py,340,26,340,51,"'(SPARK[-\s]*[0-9]{3,6})+'"
src/test/resources/python/merge_spark_pr.py,343,25,343,27,'['
src/test/resources/python/merge_spark_pr.py,343,39,343,43,'\s+'
src/test/resources/python/merge_spark_pr.py,343,46,343,48,'-'
src/test/resources/python/merge_spark_pr.py,343,66,343,68,']'
src/test/resources/python/merge_spark_pr.py,348,26,348,44,"'(\[[\w\s,-\.]+\])'"
src/test/resources/python/merge_spark_pr.py,354,26,354,35,'^\W+(.*)'
src/test/resources/python/merge_spark_pr.py,363,25,363,29,'\s+'
src/test/resources/python/merge_spark_pr.py,369,18,369,50,"""git rev-parse --abbrev-ref HEAD"""
src/test/resources/python/merge_spark_pr.py,370,14,370,19,'HEAD'
src/test/resources/python/merge_spark_pr.py,372,23,372,42,"""git rev-parse HEAD"""
src/test/resources/python/merge_spark_pr.py,383,24,383,36,"""%s/branches"""
src/test/resources/python/merge_spark_pr.py,384,49,384,57,"""branch-"""
src/test/resources/python/merge_spark_pr.py,384,64,384,69,'name'
src/test/resources/python/merge_spark_pr.py,388,23,388,79,"""Which pull request would you like to merge? (e.g. 34): """
src/test/resources/python/merge_spark_pr.py,389,18,389,30,"""%s/pulls/%s"""
src/test/resources/python/merge_spark_pr.py,390,25,390,45,"""%s/issues/%s/events"""
src/test/resources/python/merge_spark_pr.py,392,13,392,17,"""url"""
src/test/resources/python/merge_spark_pr.py,395,45,395,51,"""title"""
src/test/resources/python/merge_spark_pr.py,396,28,396,34,"""title"""
src/test/resources/python/merge_spark_pr.py,397,14,397,81,"""I've re-written the title as follows to match the standard format:"""
src/test/resources/python/merge_spark_pr.py,398,14,398,27,"""Original: %s"""
src/test/resources/python/merge_spark_pr.py,398,34,398,40,"""title"""
src/test/resources/python/merge_spark_pr.py,399,14,399,27,"""Modified: %s"""
src/test/resources/python/merge_spark_pr.py,400,27,400,77,"""Would you like to use the modified title? (y/n): """
src/test/resources/python/merge_spark_pr.py,401,29,401,31,"""y"""
src/test/resources/python/merge_spark_pr.py,403,18,403,40,"""Using modified title:"""
src/test/resources/python/merge_spark_pr.py,405,23,405,29,"""title"""
src/test/resources/python/merge_spark_pr.py,406,18,406,40,"""Using original title:"""
src/test/resources/python/merge_spark_pr.py,409,19,409,25,"""title"""
src/test/resources/python/merge_spark_pr.py,411,14,411,19,"""body"""
src/test/resources/python/merge_spark_pr.py,412,20,412,25,"""base"""
src/test/resources/python/merge_spark_pr.py,412,28,412,32,"""ref"""
src/test/resources/python/merge_spark_pr.py,413,20,413,25,"""user"""
src/test/resources/python/merge_spark_pr.py,413,28,413,34,"""login"""
src/test/resources/python/merge_spark_pr.py,414,18,414,23,"""head"""
src/test/resources/python/merge_spark_pr.py,414,26,414,30,"""ref"""
src/test/resources/python/merge_spark_pr.py,415,19,415,25,"""%s/%s"""
src/test/resources/python/merge_spark_pr.py,420,35,420,41,"""actor"""
src/test/resources/python/merge_spark_pr.py,420,44,420,50,"""login"""
src/test/resources/python/merge_spark_pr.py,420,56,420,63,"""asfgit"""
src/test/resources/python/merge_spark_pr.py,420,71,420,77,"""event"""
src/test/resources/python/merge_spark_pr.py,420,83,420,90,"""closed"""
src/test/resources/python/merge_spark_pr.py,423,38,423,48,"""commit_id"""
src/test/resources/python/merge_spark_pr.py,424,27,424,41,"""%s/commits/%s"""
src/test/resources/python/merge_spark_pr.py,424,76,424,83,"""commit"""
src/test/resources/python/merge_spark_pr.py,424,86,424,94,"""message"""
src/test/resources/python/merge_spark_pr.py,426,14,426,85,"""Pull request %s has already been merged, assuming you want to backport"""
src/test/resources/python/merge_spark_pr.py,427,40,427,44,'git'
src/test/resources/python/merge_spark_pr.py,427,47,427,57,'rev-parse'
src/test/resources/python/merge_spark_pr.py,427,60,427,68,'--quiet'
src/test/resources/python/merge_spark_pr.py,427,71,427,80,'--verify'
src/test/resources/python/merge_spark_pr.py,428,40,428,52,"""%s^{commit}"""
src/test/resources/python/merge_spark_pr.py,430,17,430,86,"""Couldn't find any merge commit for #%s, you may need to update HEAD."""
src/test/resources/python/merge_spark_pr.py,432,14,432,35,"""Found commit %s:\n%s"""
src/test/resources/python/merge_spark_pr.py,436,19,436,29,"""mergeable"""
src/test/resources/python/merge_spark_pr.py,437,14,437,70,"""Pull request %s is not mergeable in its current form.\n"""
src/test/resources/python/merge_spark_pr.py,438,12,438,38,"""Continue? (experts only!)"""
src/test/resources/python/merge_spark_pr.py,441,10,441,37,"""\n=== Pull Request #%s ==="""
src/test/resources/python/merge_spark_pr.py,442,10,442,53,"""title\t%s\nsource\t%s\ntarget\t%s\nurl\t%s"""
src/test/resources/python/merge_spark_pr.py,444,19,444,58,"""Proceed with merging pull request #%s?"""
src/test/resources/python/merge_spark_pr.py,450,18,450,65,"""Would you like to pick %s into another branch?"""
src/test/resources/python/merge_spark_pr.py,451,20,451,33,"""\n%s (y/n): """
src/test/resources/python/merge_spark_pr.py,451,61,451,63,"""y"""
src/test/resources/python/merge_spark_pr.py,456,27,456,72,"""Would you like to update an associated JIRA?"""
src/test/resources/python/merge_spark_pr.py,457,27,457,70,"""Issue resolved by pull request %s\n[%s/%s]"""
src/test/resources/python/merge_spark_pr.py,461,18,461,58,"""JIRA_USERNAME and JIRA_PASSWORD not set"""
src/test/resources/python/merge_spark_pr.py,462,18,462,71,"""Exiting without trying to close the associated JIRA."""
src/test/resources/python/merge_spark_pr.py,464,14,464,90,"""Could not find jira-python library. Run 'sudo pip install jira' to install."""
src/test/resources/python/merge_spark_pr.py,465,14,465,67,"""Exiting without trying to close the associated JIRA."""
src/test/resources/python/merge_spark_pr.py,467,15,467,24,"""__main__"""
